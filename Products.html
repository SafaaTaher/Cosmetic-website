<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Products - Radiance Beauty</title>
    <link rel="stylesheet" href="Products.css" />
  </head>
  <body>
    <div>
      <header>
        <div class="logo">RADIANCE</div>
        <button class="mobile-menu-btn" onclick="toggleMobileMenu()">‚ò∞</button>
        <nav>
          <a href="index.html">HOME</a>
          <a href="Products.html">PRODUCTS</a>
          <a href="#about">ABOUT</a>
          <a href="#contact">CONTACT</a>
        </nav>
        <div class="cart-icon" onclick="toggleCart()">
          üõí
          <span class="cart-count" id="cartCount">0</span>
        </div>
      </header>
      <!-- Mobile Navigation -->
      <div class="mobile-nav" id="mobileNav">
        <a href="index.html" onclick="toggleMobileMenu()">HOME</a>
        <a href="#" onclick="toggleMobileMenu()">PRODUCTS</a>
        <a href="#about" onclick="toggleMobileMenu()">ABOUT</a>
        <a href="#contact" onclick="toggleMobileMenu()">CONTACT</a>
        <div class="mobile-cart" onclick="toggleCart(); toggleMobileMenu();">
          üõí Shopping Cart
          <span class="cart-count" id="cartCountMobile">0</span>
        </div>
      </div>

      <!-- Cart Overlay -->
      <div class="cart-overlay" id="cartOverlay" onclick="toggleCart()"></div>

      <!-- Cart Sidebar -->
      <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
          <h2>Shopping Cart</h2>
          <button class="close-cart" onclick="toggleCart()">√ó</button>
        </div>
        <div class="cart-items" id="cartItems">
          <div class="cart-empty">
            <div class="cart-empty-icon">üõçÔ∏è</div>
            <h3>Your cart is empty</h3>
            <p>Add some products to get started!</p>
          </div>
        </div>
        <div class="cart-footer">
          <div class="cart-total">
            <span class="cart-total-label">Total:</span>
            <span class="cart-total-amount" id="cartTotal">$0</span>
          </div>
          <button class="checkout-btn" onclick="checkout()">CHECKOUT</button>
        </div>
      </div>

      <div class="page-header">
        <h1>Our Products</h1>
        <p>Discover luxury cosmetics crafted for your beauty</p>
      </div>

      <div class="controls-section">
        <div class="controls-wrapper">
          <div class="search-bar">
            <input
              type="text"
              id="searchInput"
              placeholder="Search products..."
              oninput="searchProducts()"
            />
            <button>üîç</button>
          </div>
          <div class="filter-sort">
            <select
              class="filter-dropdown"
              id="priceFilter"
              onchange="applyFilters()"
            >
              <option value="all">All Prices</option>
              <option value="under30">Under $30</option>
              <option value="30to50">$30 - $50</option>
              <option value="over50">Over $50</option>
            </select>
            <select
              class="filter-dropdown"
              id="sortBy"
              onchange="applyFilters()"
            >
              <option value="featured">Featured</option>
              <option value="price-low">Price: Low to High</option>
              <option value="price-high">Price: High to Low</option>
              <option value="rating">Highest Rated</option>
              <option value="newest">Newest</option>
            </select>
            <span class="results-count" id="resultsCount">24 Products</span>
          </div>
        </div>
      </div>

      <div class="filter-tabs">
        <button class="filter-tab active" onclick="filterProducts('all')">
          All Products
        </button>
        <button class="filter-tab" onclick="filterProducts('lips')">
          Lips
        </button>
        <button class="filter-tab" onclick="filterProducts('face')">
          Face
        </button>
        <button class="filter-tab" onclick="filterProducts('eyes')">
          Eyes
        </button>
        <button class="filter-tab" onclick="filterProducts('skincare')">
          Skincare
        </button>
      </div>

      <div class="products-section">
        <div class="products-grid" id="productsGrid">
          <!-- Products will be dynamically loaded here -->
        </div>
        <div class="no-results" id="noResults" style="display: none">
          <h3>No products found</h3>
          <p>Try adjusting your filters or search terms</p>
        </div>
      </div>

      <div class="pagination" id="pagination">
        <button class="page-btn" onclick="changePage('prev')">‚Üê</button>
        <button class="page-btn active" onclick="changePage(1)">1</button>
        <button class="page-btn" onclick="changePage(2)">2</button>
        <button class="page-btn" onclick="changePage(3)">3</button>
        <button class="page-btn" onclick="changePage('next')">‚Üí</button>
      </div>
    </div>
    <footer>
      <div class="footer-content" id="contact">
        <div class="footer-section">
          <h4>ABOUT Radiance</h4>
          <p>
            Premium cosmetics designed to enhance your natural beauty with
            sustainable, cruelty-free formulas.
          </p>
        </div>
        <div class="footer-section">
          <h4>QUICK LINKS</h4>
          <a href="#products">Products</a>
          <a href="#about">About Us</a>
          <a href="#contact">Contact</a>
          <a href="#faq">FAQ</a>
        </div>
        <div class="footer-section">
          <h4>FOLLOW US</h4>
          <div class="social-icons">
            <a href="#" class="social-link" aria-label="Instagram">
              <svg
                width="32"
                height="32"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"
                />
              </svg>
            </a>
            <a href="#" class="social-link" aria-label="Facebook">
              <svg
                width="32"
                height="32"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"
                />
              </svg>
            </a>
            <a href="#" class="social-link" aria-label="Telegram">
              <svg
                width="32"
                height="32"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"
                />
              </svg>
            </a>
          </div>
        </div>
      </div>
      <div class="copyright">¬© 2025 Radiance Beauty. All rights reserved.</div>
    </footer>

    <script>
      // ŸÖŸèŸÜÿ≥ŸÇ ÿßŸÑÿπŸÖŸÑÿ© ŸÑŸÑÿ±ŸäÿßŸÑ ÿßŸÑÿ≥ÿπŸàÿØŸä (SAR)
      const usdFormatter = new Intl.NumberFormat('en-US', {
    style: 'currency',
    currency: 'USD',
    minimumFractionDigits: 0 // ŸÑŸÑÿ£ÿ≥ÿπÿßÿ± ÿ®ÿØŸàŸÜ ŸÉÿ≥Ÿàÿ± ÿπÿ¥ÿ±Ÿäÿ©
});

      let currentPage = 1;
      const productsPerPage = 12;
      let cart = [];

      const products = [
        {
          id: 1,
          name: "Velvet Matte Lipstick",
          category: "lips",
          price: 28,
          rating: 5,
          reviews: 245,
          image:
            "https://images.unsplash.com/photo-1629198688000-71f23e745b6e?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=580",
          colors: ["#8B2635", "#C85A54", "#A0522D", "#DC143C"],
          badge: "NEW",
          description: "Long-lasting, highly pigmented formula",
        },
        {
          id: 2,
          name: "Radiance Foundation",
          category: "face",
          price: 42,
          rating: 5,
          reviews: 312,
          image:
            "https://images.unsplash.com/photo-1631214524020-7e18db9a8f92?w=400&h=400&fit=crop",
          colors: ["#F5D5C0", "#E8B897", "#D4A574", "#8D5524"],
          description: "Flawless, buildable coverage",
        },
        {
          id: 3,
          name: "Luxe Eye Palette",
          category: "eyes",
          price: 58,
          rating: 5,
          reviews: 428,
          image:
            "https://images.unsplash.com/photo-1512496015851-a90fb38ba796?w=400&h=400&fit=crop",
          badge: "BESTSELLER",
          badgeColor: "#c17d5f",
          description: "12 versatile shades for any look",
        },
        {
          id: 4,
          name: "Dewy Setting Spray",
          category: "face",
          price: 32,
          rating: 5,
          reviews: 189,
          image:
            "https://images.unsplash.com/photo-1571875257727-256c39da42af?w=400&h=400&fit=crop",
          description: "All-day lasting finish with radiance",
        },
        {
          id: 5,
          name: "Luxe Lip Gloss",
          category: "lips",
          price: 24,
          rating: 4,
          reviews: 156,
          image:
            "https://images.unsplash.com/photo-1512496015851-a90fb38ba796?w=400&h=400&fit=crop",
          colors: ["#FFB6C1", "#FF69B4", "#C17D5F"],
          description: "High-shine, non-sticky formula",
        },
        {
          id: 6,
          name: "Blush & Contour Duo",
          category: "face",
          price: 38,
          rating: 5,
          reviews: 203,
          image:
            "https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?w=400&h=400&fit=crop",
          colors: ["#FFC0CB", "#FFB6A3", "#E8B897"],
          badge: "NEW",
          description: "Sculpt and define effortlessly",
        },
        {
          id: 7,
          name: "Precision Eyeliner",
          category: "eyes",
          price: 22,
          rating: 5,
          reviews: 278,
          image:
            "https://images.unsplash.com/photo-1631730486572-226d1f595b68?w=400&h=400&fit=crop",
          colors: ["#000", "#2F4F4F", "#8B4513"],
          description: "Waterproof, smudge-proof formula",
        },
        {
          id: 8,
          name: "Hydrating Serum",
          category: "skincare",
          price: 56,
          rating: 5,
          reviews: 392,
          image:
            "https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=400&h=400&fit=crop",
          badge: "BESTSELLER",
          badgeColor: "#c17d5f",
          description: "Deep moisture with vitamin C",
        },
        {
          id: 9,
          name: "SPF 50 Day Cream",
          category: "skincare",
          price: 44,
          rating: 4,
          reviews: 167,
          image:
            "https://images.unsplash.com/photo-1556228720-195a672e8a03?w=400&h=400&fit=crop",
          description: "Sun protection with nourishment",
        },
        {
          id: 10,
          name: "Volume Mascara",
          category: "eyes",
          price: 26,
          rating: 5,
          reviews: 341,
          image:
            "https://images.unsplash.com/photo-1598440947619-2c35fc9aa908?w=400&h=400&fit=crop",
          description: "Dramatic length and volume",
        },
        {
          id: 11,
          name: "Illuminating Highlighter",
          category: "face",
          price: 34,
          rating: 5,
          reviews: 289,
          image:
            "https://images.unsplash.com/photo-1512496015851-a90fb38ba796?w=400&h=400&fit=crop",
          description: "Radiant glow for all skin tones",
        },
        {
          id: 12,
          name: "Night Repair Cream",
          category: "skincare",
          price: 62,
          rating: 5,
          reviews: 215,
          image:
            "https://images.unsplash.com/photo-1598440947619-2c35fc9aa908?w=400&h=400&fit=crop",
          badge: "NEW",
          description: "Regenerate while you sleep",
        },
        {
          id: 13,
          name: "Lip Liner Set",
          category: "lips",
          price: 32,
          rating: 5,
          reviews: 198,
          image:
            "https://images.unsplash.com/photo-1571875257727-256c39da42af?w=400&h=400&fit=crop",
          colors: ["#8B2635", "#C85A54", "#A0522D"],
          description: "Define and shape perfectly",
        },
        {
          id: 14,
          name: "Cream Blush",
          category: "face",
          price: 29,
          rating: 4,
          reviews: 176,
          image:
            "https://images.unsplash.com/photo-1627225924765-552d49cf47ad?w=400&h=400&fit=crop",
          colors: ["#FFB6C1", "#FF69B4", "#FFC0CB"],
          description: "Natural, dewy flush",
        },
        {
          id: 15,
          name: "Brow Gel",
          category: "eyes",
          price: 24,
          rating: 5,
          reviews: 267,
          image:
            "https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=400&h=400&fit=crop",
          description: "Long-lasting hold and definition",
        },
        {
          id: 16,
          name: "Makeup Remover",
          category: "skincare",
          price: 28,
          rating: 5,
          reviews: 312,
          image:
            "https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=400&h=400&fit=crop",
          description: "Gentle, effective cleansing",
        },
        {
          id: 17,
          name: "Liquid Lipstick",
          category: "lips",
          price: 26,
          rating: 4,
          reviews: 223,
          image:
            "https://images.unsplash.com/photo-1586495777744-4413f21062fa?w=400&h=400&fit=crop",
          colors: ["#8B2635", "#DC143C", "#C85A54"],
          description: "Transfer-proof matte finish",
        },
        {
          id: 18,
          name: "Primer Serum",
          category: "face",
          price: 48,
          rating: 5,
          reviews: 198,
          image:
            "https://images.unsplash.com/photo-1612817288484-6f916006741a?w=400&h=400&fit=crop",
          badge: "NEW",
          description: "Flawless base for makeup",
        },
        {
    id: 19,
    name: "Eyeshadow Singles",
    category: "eyes",
    price: 18,
    rating: 4,
    reviews: 145,
    image:
        "https://i.ibb.co/L5T473c/eyeshadow-singles.jpg", // ÿßŸÑÿ±ÿßÿ®ÿ∑ ÿßŸÑÿ¨ÿØŸäÿØ
    description: "Highly pigmented shades",
},
        {
          id: 20,
          name: "Facial Oil",
          category: "skincare",
          price: 52,
          rating: 5,
          reviews: 234,
          image:
            "https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=400&h=400&fit=crop",
          description: "Nourishing botanical blend",
        },
        {
          id: 21,
          name: "Lip Balm SPF",
          category: "lips",
          price: 16,
          rating: 4,
          reviews: 189,
          image:
            "https://images.unsplash.com/photo-1631730486572-226d1f595b68?w=400&h=400&fit=crop",
          description: "Moisturize and protect",
        },
        {
          id: 22,
          name: "Setting Powder",
          category: "face",
          price: 36,
          rating: 5,
          reviews: 276,
          image:
            "https://images.unsplash.com/photo-1612817288484-6f916006741a?w=400&h=400&fit=crop",
          description: "Translucent, shine-free finish",
        },
        {
          id: 23,
          name: "Lash Serum",
          category: "eyes",
          price: 58,
          rating: 5,
          reviews: 312,
          image:
            "https://images.unsplash.com/photo-1512496015851-a90fb38ba796?w=400&h=400&fit=crop",
          badge: "BESTSELLER",
          badgeColor: "#c17d5f",
          description: "Strengthen and lengthen",
        },
        {
          id: 24,
          name: "Eye Cream",
          category: "skincare",
          price: 54,
          rating: 5,
          reviews: 267,
          image:
            "https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=400&h=400&fit=crop",
          description: "Reduce dark circles and puffiness",
        },
      ];

      let currentCategory = "all";
      let wishlist = new Set();

      function toggleMobileMenu() {
        const mobileNav = document.getElementById("mobileNav");
        mobileNav.classList.toggle("active");
      }

      function toggleCart() {
        const sidebar = document.getElementById("cartSidebar");
        const overlay = document.getElementById("cartOverlay");
        const body = document.body;

        sidebar.classList.toggle("open");
        overlay.classList.toggle("open");
        body.classList.toggle("cart-open");
      }

      function updateCartDisplay() {
        const cartItemsContainer = document.getElementById("cartItems");
        const cartCount = document.getElementById("cartCount");
        const cartTotal = document.getElementById("cartTotal");

        cartCount.textContent = cart.length;

        if (cart.length === 0) {
          cartItemsContainer.innerHTML = `
                    <div class="cart-empty">
                        <div class="cart-empty-icon">üõçÔ∏è</div>
                        <h3>Your cart is empty</h3>
                        <p>Add some products to get started!</p>
                    </div>
                `;
          // cartTotal.textContent = "$0";
          cartTotal.textContent = usdFormatter.format(0);
          return;
        }

        const total = cart.reduce((sum, item) => sum + item.price, 0);
        cartTotal.textContent = usdFormatter.format(total);

        cartItemsContainer.innerHTML = cart
          .map(
            (item, index) => `
                <div class="cart-item">
                    <div class="cart-item-image">${item.icon}</div>
                    <div class="cart-item-details">
                        <div class="cart-item-name">${item.name}</div>
                        <div class="cart-item-category">${item.category}</div>
                        <div class="cart-item-price">${item.price}</div>
                    </div>
                    <button class="cart-item-remove" onclick="removeFromCart(${index})">üóëÔ∏è</button>
                </div>
            `
          )
          .join("");
      }

      function addToCart(productId) {
        const product = products.find((p) => p.id === productId);
        if (product) {
          cart.push(product);
          updateCartDisplay();

          // Visual feedback
          const button = event.target;
          const originalText = button.textContent;
          button.textContent = "‚úì ADDED";
          button.style.background = "#4CAF50";
          setTimeout(() => {
            button.textContent = originalText;
            button.style.background = "";
          }, 1500);

          // Show cart briefly
          setTimeout(() => {
            toggleCart();
          }, 600);
        }
      }

      function removeFromCart(index) {
        cart.splice(index, 1);
        updateCartDisplay();
      }

      function checkout() {
        if (cart.length === 0) {
          alert("Your cart is empty!");
          return;
        }
        const total = cart.reduce((sum, item) => sum + item.price, 0);
        alert(`Checkout - Total: ${total}\nThank you for your purchase!`);
        cart = [];
        updateCartDisplay();
        toggleCart();
      }

    function renderProducts(productsToRender) {
    const grid = document.getElementById("productsGrid");
    const noResults = document.getElementById("noResults");

    if (productsToRender.length === 0) {
        grid.style.display = "none";
        noResults.style.display = "block";
        document.getElementById("resultsCount").textContent = "0 Products";
        document.getElementById("pagination").style.display = "none";
        return;
    }

    grid.style.display = "grid";
    noResults.style.display = "none";
    document.getElementById("pagination").style.display = "flex";
    document.getElementById(
        "resultsCount"
    ).textContent = `${productsToRender.length} Products`;

    // Pagination logic
    const totalPages = Math.ceil(productsToRender.length / productsPerPage);
    const startIndex = (currentPage - 1) * productsPerPage;
    const endIndex = startIndex + productsPerPage;
    const paginatedProducts = productsToRender.slice(startIndex, endIndex);

    // Update pagination buttons
    updatePaginationButtons(totalPages);

    grid.innerHTML = paginatedProducts
        .map(
            (product) => `
                <div class="product-card" data-category="${
                  product.category
                }" data-price="${product.price}" data-rating="${
                  product.rating
                }">
                    ${
                      product.badge
                        ? `<div class="product-badge" style="${
                              product.badgeColor
                                ? "background: " + product.badgeColor
                                : ""
                          }">${product.badge}</div>`
                        : ""
                    }
                    <button class="wishlist-btn" onclick="toggleWishlist(${
                      product.id
                    })" id="wish-${product.id}">ü§ç</button>
                    <div class="product-image-wrapper">
                        
                        <img src="${product.image}" alt="${product.name}" class="product-image">
                        
                        <div class="quick-view">Quick View</div>
                    </div>
                    <div class="product-info">
                        <div class="product-category">${product.category}</div>
                        <h3>${product.name}</h3>
                        <p>${product.description}</p>
                        ${
                          product.colors
                            ? `
                            <div class="product-colors">
                                ${product.colors
                                    .slice(0, 3)
                                    .map(
                                        (color) =>
                                            `<span class="color-dot" style="background: ${color};"></span>`
                                    )
                                    .join("")}
                                ${
                                    product.colors.length > 3
                                        ? `<span style="font-size: 0.75rem; color: #999;">+${
                                              product.colors.length - 3
                                          } more</span>`
                                        : ""
                                }
                            </div>
                            `
                            : ""
                        }
                        <div class="product-rating">${"‚≠ê".repeat(
                          product.rating
                        )} <span>(${product.reviews})</span></div>
                        <div class="product-price">${usdFormatter.format(product.price)}</div>
                        <button class="add-cart" onclick="addToCart(${
                          product.id
                        })">ADD TO CART</button>
                    </div>
                </div>
            `
        )
        .join("");

    // Scroll to top of products
    window.scrollTo({ top: 300, behavior: "smooth" });
}
    function updatePaginationButtons(totalPages) {
        const pagination = document.getElementById("pagination");

        pagination.innerHTML = `
                <button class="page-btn" onclick="changePage('prev')" ${
                  currentPage === 1
                    ? 'disabled style="opacity: 0.5; cursor: not-allowed;"'
                    : ""
                }>‚Üê</button>
                ${Array.from({ length: totalPages }, (_, i) => i + 1)
                  .map(
                    (page) => `
                    <button class="page-btn ${
                      page === currentPage ? "active" : ""
                    }" onclick="changePage(${page})">${page}</button>
                `
                  )
                  .join("")}
                <button class="page-btn" onclick="changePage('next')" ${
                  currentPage === totalPages
                    ? 'disabled style="opacity: 0.5; cursor: not-allowed;"'
                    : ""
                }>‚Üí</button>
            `;
      }

      function changePage(page) {
        const allProducts = getFilteredProducts();
        const totalPages = Math.ceil(allProducts.length / productsPerPage);

        if (page === "prev" && currentPage > 1) {
          currentPage--;
        } else if (page === "next" && currentPage < totalPages) {
          currentPage++;
        } else if (
          typeof page === "number" &&
          page >= 1 &&
          page <= totalPages
        ) {
          currentPage = page;
        } else {
          return; // Invalid page
        }

        renderProducts(allProducts);
      }

      function getFilteredProducts() {
        let filtered = [...products];

        // Category filter
        if (currentCategory !== "all") {
          filtered = filtered.filter((p) => p.category === currentCategory);
        }

        // Search filter
        const searchTerm = document
          .getElementById("searchInput")
          .value.toLowerCase();
        if (searchTerm) {
          filtered = filtered.filter(
            (p) =>
              p.name.toLowerCase().includes(searchTerm) ||
              p.description.toLowerCase().includes(searchTerm) ||
              p.category.toLowerCase().includes(searchTerm)
          );
        }

        // Price filter
        const priceFilter = document.getElementById("priceFilter").value;
        if (priceFilter === "under30") {
          filtered = filtered.filter((p) => p.price < 30);
        } else if (priceFilter === "30to50") {
          filtered = filtered.filter((p) => p.price >= 30 && p.price <= 50);
        } else if (priceFilter === "over50") {
          filtered = filtered.filter((p) => p.price > 50);
        }

        // Sort
        const sortBy = document.getElementById("sortBy").value;
        if (sortBy === "price-low") {
          filtered.sort((a, b) => a.price - b.price);
        } else if (sortBy === "price-high") {
          filtered.sort((a, b) => b.price - a.price);
        } else if (sortBy === "rating") {
          filtered.sort((a, b) => b.rating - a.rating || b.reviews - a.reviews);
        } else if (sortBy === "newest") {
          filtered = filtered
            .filter((p) => p.badge === "NEW")
            .concat(filtered.filter((p) => p.badge !== "NEW"));
        }

        return filtered;
      }

      function filterProducts(category) {
        currentCategory = category;
        currentPage = 1; // Reset to first page
        const tabs = document.querySelectorAll(".filter-tab");
        tabs.forEach((tab) => tab.classList.remove("active"));
        event.target.classList.add("active");
        applyFilters();
      }

      function searchProducts() {
        currentPage = 1; // Reset to first page
        applyFilters();
      }

      function applyFilters() {
        currentPage = 1; // Reset to first page when filtering
        const filtered = getFilteredProducts();
        renderProducts(filtered);
      }

      function addToCart(productId) {
        const product = products.find((p) => p.id === productId);
        if (product) {
          cart.push(product);
          updateCartDisplay();

          // Visual feedback
          const button = event.target;
          const originalText = button.textContent;
          button.textContent = "‚úì ADDED";
          button.style.background = "#4CAF50";
          setTimeout(() => {
            button.textContent = originalText;
            button.style.background = "";
          }, 1500);

          // Show cart briefly
          setTimeout(() => {
            toggleCart();
          }, 600);
        }
      }

      function removeFromCart(index) {
        cart.splice(index, 1);
        updateCartDisplay();
      }

      function checkout() {
        if (cart.length === 0) {
          alert("Your cart is empty!");
          return;
        }
        const total = cart.reduce((sum, item) => sum + item.price, 0);
        const formattedTotal = usdFormatter.format(total); 
    
    alert(`Checkout - Total: ${formattedTotal}\nThank you for your purchase!`);
    cart = [];
    updateCartDisplay();
    toggleCart();
      }

      function toggleWishlist(productId) {
        const btn = document.getElementById(`wish-${productId}`);
        if (wishlist.has(productId)) {
          wishlist.delete(productId);
          btn.textContent = "ü§ç";
          btn.classList.remove("active");
        } else {
          wishlist.add(productId);
          btn.textContent = "‚ù§Ô∏è";
          btn.classList.add("active");
        }
      }

      // Initial render
      renderProducts(products);
    </script>
  </body>
</html>
